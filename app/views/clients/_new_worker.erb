<div class = "form-shell">
  <%= form_for(:worker, :url => { :controller => "workers", :action => "create" }, remote: true, html: { id: "new_worker" }) do |f| %>
    <fieldset>
    <h2>Новая услуга</h2>


    <div class = "one-column">
      <div class="field">
        <%= collection_select(:category, :category_id, Category.all, :id, :name, 
          {:prompt => "Категория"}, {:class => "category-select cs-select2 cs-skin-border"}) %>
      </div>

      <div class="field">
        <%= collection_select(:worker, :service_id, Service.all, :id, :name, 
          {:prompt => "Тип объявления"}, {:class => "services-select cs-select cs-skin-border"}) %>
      </div>

      <div class="field">
        <legend class="label">Описание:</legend>
        <%= f.text_area :description %>
      </div>
    </div><!--/one-column-->

    <div class="two-column">
      <div class="field">
        <%= f.text_field :city, :placeholder => "Город" %>
      </div>

      <div class="field">
        <%= f.text_field :address, :placeholder => "Адрес"%>
      </div>

      <div class="field">
        <%= f.text_field :price, :placeholder => "Цена" %>
      </div>

      <div class="actions">
        <%= f.submit :class => "button middle_green", :value => "Добавить" %>
      </div>
    </div><!--/two-column-->

    </fieldset>
  <% end %>
</div>

<script>
  (function() {
    [].slice.call( document.querySelectorAll( '#new_worker select.cs-select' ) ).forEach( function(el) {  
      new SelectFx(el);
    } );
  })();

  (function() {
    [].slice.call( document.querySelectorAll( '#new_worker select.cs-select2' ) ).forEach( function(el) {  
      new SelectFx(el);
    } );
  })();
</script>